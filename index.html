<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#323232">
  <title>River Hsu Portfolio</title>
  <link rel="stylesheet" href="styles.css">
  <script src="https://unpkg.com/wavesurfer.js@7"></script>
</head>

<body>
  <header>
    <nav class="desktop">
      <a href="index.html" class="logo"><img src="resources/riv-logo.png"></a>
      <a href="#proj"><h3>Projects</h3></a>
      <a href="#skills"><h3>Skills</h3></a>
    </nav>
  </header>

  <main>
    <video autoplay muted loop id="myVideo1">
      <source src="resources/waveform.mp4" type="video/mp4">
      Your browser does not support HTML5 video.
    </video>

    <div class="cursor"></div>

    <div class="intro">
      <h1>Hi! My name is <a href="">River Hsu.</a> I am A <a href="" target="_blank">Math-CS, ICAM-Music Double Major</a> student at UC San Diego.</h1>
    </div>

    <div class="section-header">
      <h2>Featured Video</h2>
    </div>

    <div class="featured-gallery">
      <div class="featured-video-container">
        <iframe
          src="https://www.youtube.com/embed/YOUR_VIDEO_ID_HERE"
          title="YouTube video player"
          frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen>
        </iframe>
      </div>
    </div>

    <div class="section-header">
      <h2>Projects</h2>
    </div>
    <div id="proj" class="proj"></div>

    <div class="section-header">
      <h2>Skills</h2>
    </div>
    <div id="skills" class="skills"></div>
    <div class="small-header"><h3>Academic Background</h3></div>
    <div class="school-description">
      <h3 class="academic">High School Diploma</h3>
      <h4>Santa Cruz High School 2023</h4>
    </div>
  </main>

  <footer>
    <p>Website by River Hsu</p>
    <p>Email: rihsu@ucsd.edu</p>
  </footer>

  <script src="mouseScript.js"></script>

  <script>
    const tracks = [
      {
        id: 0,
        btnId: 'playBtn0',
        waveformId: 'waveform0',
        containerId: 'track0',
        url: 'resources/Tail of Two.wav'
      },
      {
        id: 1,
        btnId: 'playBtn',
        waveformId: 'waveform',
        containerId: 'track1',
        url: 'resources/Breath Away V3.wav'
      },
      {
        id: 2,
        btnId: 'playBtnTwo',
        waveformId: 'waveformTwo',
        containerId: 'track2',
        url: 'resources/Cinema V2.wav'
      },
      {
        id: 3,
        btnId: 'playBtnThree',
        waveformId: 'waveformThree',
        containerId: 'track3',
        url: 'resources/Green Chambers V2.wav'
      },
      {
        id: 4,
        btnId: 'playBtnFour',
        waveformId: 'waveformFour',
        containerId: 'track4',
        url: 'resources/To Reach Your Soul.wav'
      },
      {
        id: 5,
        btnId: 'playBtnFive',
        waveformId: 'waveformFive',
        containerId: 'track5',
        url: 'resources/Rush in The Rain.wav'
      }
    ];

    const wavesurfers = [];

    tracks.forEach(track => {
      const button = document.getElementById(track.btnId);
      const container = document.getElementById(track.containerId);

      const wavesurfer = WaveSurfer.create({
        container: `#${track.waveformId}`,
        waveColor: '#000000',
        progressColor: '#A02222',
        url: track.url,
        barWidth: 1,
        height: 90,
        barRadius: 4
      });

      button.onclick = () => {
        wavesurfer.playPause();
        button.src = wavesurfer.isPlaying()
          ? 'resources/pauseButton.png'
          : 'resources/playButton.png';
      };

      wavesurfer.on('audioprocess', () => {
        container.classList.add('glow-active');
      });

      wavesurfer.on('pause', () => {
        container.classList.remove('glow-active');
      });

      wavesurfer.on('finish', () => {
        button.src = 'resources/playButton.png';
        container.classList.remove('glow-active');
      });


      wavesurfers.push(wavesurfer);
    });
  </script>
</body>

</html>


